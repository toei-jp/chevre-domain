<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: index.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); /** * index module */ const chevre = require(&quot;@chevre/domain&quot;); const factory = require(&quot;./factory&quot;); const repository = require(&quot;./repository&quot;); const service = require(&quot;./service&quot;); exports.redis = chevre.redis; exports.factory = factory; exports.repository = repository; exports.service = service; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"service.js.html":{"id":"service.js.html","title":"Source: service.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: service.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); /** * service module */ const chevre = require(&quot;@chevre/domain&quot;); exports.aggregation = chevre.service.aggregation; exports.offer = chevre.service.offer; exports.task = chevre.service.task; exports.transaction = chevre.service.transaction; const EventService = require(&quot;./service/event&quot;); exports.event = EventService; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repository.js.html":{"id":"repository.js.html","title":"Source: repository.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repository.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); // tslint:disable:max-classes-per-file completed-docs /** * リポジトリー */ const chevre = require(&quot;@chevre/domain&quot;); exports.AccountTitle = chevre.repository.AccountTitle; exports.Action = chevre.repository.Action; exports.CreativeWork = chevre.repository.CreativeWork; exports.Place = chevre.repository.Place; exports.PriceSpecification = chevre.repository.PriceSpecification; exports.Reservation = chevre.repository.Reservation; exports.ReservationNumber = chevre.repository.ReservationNumber; exports.ServiceType = chevre.repository.ServiceType; exports.Task = chevre.repository.Task; exports.TicketType = chevre.repository.TicketType; exports.Transaction = chevre.repository.Transaction; exports.itemAvailability = chevre.repository.itemAvailability; const boxOfficeType_1 = require(&quot;./repo/boxOfficeType&quot;); const distributions_1 = require(&quot;./repo/distributions&quot;); const event_1 = require(&quot;./repo/event&quot;); const subject_1 = require(&quot;./repo/subject&quot;); class BoxOfficeType extends boxOfficeType_1.MongoRepository { } exports.BoxOfficeType = BoxOfficeType; class Event extends event_1.MongoRepository { } exports.Event = Event; class Distributions extends distributions_1.MongoRepository { } exports.Distributions = Distributions; class Subject extends subject_1.MongoRepository { } exports.Subject = Subject; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"service_event.js.html":{"id":"service_event.js.html","title":"Source: service/event.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: service/event.js &quot;use strict&quot;; var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) { return new (P || (P = Promise))(function (resolve, reject) { function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } } function rejected(value) { try { step(generator[&quot;throw&quot;](value)); } catch (e) { reject(e); } } function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); } step((generator = generator.apply(thisArg, _arguments || [])).next()); }); }; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); /** * countTicketTypePerEvent */ function countTicketTypePerEvent(params) { // tslint:disable-next-line:max-func-body-length return (repos) =&gt; __awaiter(this, void 0, void 0, function* () { const reservations = yield repos.reservation.searchScreeningEventReservations({ reservationFor: { superEvent: params.id !== undefined ? { id: params.id } : undefined, startFrom: params.startFrom, startThrough: params.startThrough } }); const SALE_TICKET_TYPE = '1'; const PRE_SALE_TICKET_TYPE = '2'; const FREE_TICKET_TYPE = '3'; let events = []; reservations.forEach((r) =&gt; { if (events.find((e) =&gt; e.id === r.reservationFor.id) === undefined) { events.push(Object.assign({}, r.reservationFor, { freeTicketCount: 0, saleTicketCount: 0, preSaleTicketCount: 0 })); } for (const event of events) { if (event.id === r.reservationFor.id) { if (r.reservedTicket.ticketType.category !== undefined) { switch (r.reservedTicket.ticketType.category.id) { case SALE_TICKET_TYPE: event.saleTicketCount += 1; break; case PRE_SALE_TICKET_TYPE: event.preSaleTicketCount += 1; break; case FREE_TICKET_TYPE: event.freeTicketCount += 1; break; default: // 何もしない } } } } }); events = events.sort((a, b) =&gt; (a.startDate &lt; b.startDate ? -1 : 1)); return { totalCount: events.length, data: events.slice(params.limit * (params.page - 1), params.limit * params.page) }; }); } exports.countTicketTypePerEvent = countTicketTypePerEvent; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_event.js.html":{"id":"repo_event.js.html","title":"Source: repo/event.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/event.js &quot;use strict&quot;; var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) { return new (P || (P = Promise))(function (resolve, reject) { function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } } function rejected(value) { try { step(generator[&quot;throw&quot;](value)); } catch (e) { reject(e); } } function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); } step((generator = generator.apply(thisArg, _arguments || [])).next()); }); }; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const chevre = require(&quot;@chevre/domain&quot;); const uniqid = require(&quot;uniqid&quot;); /** * イベントリポジトリー */ class MongoRepository extends chevre.repository.Event { /** * 複数の上映イベントを保管する */ saveMultipleScreeningEvent(params) { return __awaiter(this, void 0, void 0, function* () { const args = params.map((p) =&gt; (Object.assign({ _id: uniqid() }, p))); const docs = yield this.eventModel.create(args); return docs.map((doc) =&gt; doc.toObject()); }); } } exports.MongoRepository = MongoRepository; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_subject.js.html":{"id":"repo_subject.js.html","title":"Source: repo/subject.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/subject.js &quot;use strict&quot;; var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) { return new (P || (P = Promise))(function (resolve, reject) { function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } } function rejected(value) { try { step(generator[&quot;throw&quot;](value)); } catch (e) { reject(e); } } function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); } step((generator = generator.apply(thisArg, _arguments || [])).next()); }); }; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const mongoose = require(&quot;mongoose&quot;); const subject_1 = require(&quot;./mongoose/model/subject&quot;); const factory = require(&quot;../factory&quot;); /** * 科目レポジトリー */ class MongoRepository { constructor(connection) { this.subjectModel = connection.model(subject_1.default.modelName); } static CREATE_MONGO_CONDITIONS(params) { // MongoDB検索条件 const andConditions = []; if (params.detailCd !== undefined) { andConditions.push({ detailCd: new RegExp(params.detailCd, 'i') }); } return andConditions; } /** * 科目を保管する */ save(params) { return __awaiter(this, void 0, void 0, function* () { let subject; if (params.id === undefined) { const doc = yield this.subjectModel.create(Object.assign({}, params.attributes)); subject = doc.toObject(); } else { const doc = yield this.subjectModel.findOneAndUpdate({ _id: params.id }, params.attributes, { upsert: false, new: true }).exec(); if (doc === null) { throw new factory.errors.NotFound('Subject'); } subject = doc.toObject(); } return subject; }); } countSubject(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); return this.subjectModel.countDocuments({ $and: conditions }).setOptions({ maxTimeMS: 10000 }) .exec(); }); } /** * IDで科目を検索する */ findSubjectById(params) { return __awaiter(this, void 0, void 0, function* () { const doc = yield this.subjectModel.findOne({ _id: mongoose.Types.ObjectId(params.id) }, { __v: 0, createdAt: 0, updatedAt: 0 }).exec(); if (doc === null) { throw new factory.errors.NotFound('Subject'); } return doc.toObject(); }); } /** * 科目を検索する */ searchSubject(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); const query = this.subjectModel.find({ $and: conditions }, { __v: 0, createdAt: 0, updatedAt: 0 }); // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.limit !== undefined &amp;&amp; params.page !== undefined) { query.limit(params.limit).skip(params.limit * (params.page - 1)); } // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.sort !== undefined) { query.sort(params.sort); } return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } getSubject() { return __awaiter(this, void 0, void 0, function* () { const query = this.subjectModel.find({}); return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } } exports.MongoRepository = MongoRepository; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_boxOfficeType.js.html":{"id":"repo_boxOfficeType.js.html","title":"Source: repo/boxOfficeType.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/boxOfficeType.js &quot;use strict&quot;; var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) { return new (P || (P = Promise))(function (resolve, reject) { function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } } function rejected(value) { try { step(generator[&quot;throw&quot;](value)); } catch (e) { reject(e); } } function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); } step((generator = generator.apply(thisArg, _arguments || [])).next()); }); }; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const boxOfficeType_1 = require(&quot;./mongoose/model/boxOfficeType&quot;); const factory = require(&quot;../factory&quot;); /** * 興行区分レポジトリー */ class MongoRepository { constructor(connection) { this.boxOfficeTypeModel = connection.model(boxOfficeType_1.default.modelName); } static CREATE_MONGO_CONDITIONS(params) { // MongoDB検索条件 const andConditions = [ { _id: { $exists: true } } ]; // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.name !== undefined) { andConditions.push({ name: new RegExp(params.name, 'i') }); } // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.id !== undefined) { andConditions.push({ _id: params.id }); } return andConditions; } /** * 興行区分を保管する */ updateBoxOfficeType(params) { return __awaiter(this, void 0, void 0, function* () { const doc = yield this.boxOfficeTypeModel.findOneAndUpdate({ _id: params.id }, { name: params.name }, { upsert: false, new: true }).exec(); if (doc === null) { throw new factory.errors.NotFound('BoxOfficeType'); } return doc.toObject(); }); } /** * 興行区分を作成する */ createBoxOfficeType(params) { return __awaiter(this, void 0, void 0, function* () { const doc = yield this.boxOfficeTypeModel.create({ _id: params.id, name: params.name }); return doc.toObject(); }); } getBoxOfficeType() { return __awaiter(this, void 0, void 0, function* () { const query = this.boxOfficeTypeModel.find({}); return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } countBoxOfficeType(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); return this.boxOfficeTypeModel.countDocuments({ $and: conditions }).setOptions({ maxTimeMS: 10000 }) .exec(); }); } /** * 興行区分を検索する */ searchBoxOfficeType(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); const query = this.boxOfficeTypeModel.find({ $and: conditions }, { __v: 0, createdAt: 0, updatedAt: 0 }); // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.limit !== undefined &amp;&amp; params.page !== undefined) { query.limit(params.limit).skip(params.limit * (params.page - 1)); } return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } /** * IDで興行区分を取得する */ findById(params) { return __awaiter(this, void 0, void 0, function* () { const event = yield this.boxOfficeTypeModel.findOne({ _id: params.id }, { __v: 0, createdAt: 0, updatedAt: 0 }).exec(); if (event === null) { throw new factory.errors.NotFound('BoxOfficeType'); } return event.toObject(); }); } /** * IDで興行区分を削除する */ deleteById(params) { return __awaiter(this, void 0, void 0, function* () { yield this.boxOfficeTypeModel.findOneAndRemove({ _id: params.id }).exec(); }); } getBoxOfficeTypeList() { return __awaiter(this, void 0, void 0, function* () { const query = this.boxOfficeTypeModel.find({}); return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } } exports.MongoRepository = MongoRepository; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_distributions.js.html":{"id":"repo_distributions.js.html","title":"Source: repo/distributions.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/distributions.js &quot;use strict&quot;; var __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) { return new (P || (P = Promise))(function (resolve, reject) { function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } } function rejected(value) { try { step(generator[&quot;throw&quot;](value)); } catch (e) { reject(e); } } function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); } step((generator = generator.apply(thisArg, _arguments || [])).next()); }); }; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const distributions_1 = require(&quot;./mongoose/model/distributions&quot;); const factory = require(&quot;../factory&quot;); /** * 配給レポジトリー */ class MongoRepository { constructor(connection) { this.distributionsModel = connection.model(distributions_1.default.modelName); } static CREATE_MONGO_CONDITIONS(params) { // MongoDB検索条件 const andConditions = [ { _id: { $exists: true } } ]; // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.name !== undefined) { andConditions.push({ name: new RegExp(params.name, 'i') }); } // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.id !== undefined) { andConditions.push({ _id: params.id }); } return andConditions; } /** * 配給を保管する */ updateDistribution(params) { return __awaiter(this, void 0, void 0, function* () { const doc = yield this.distributionsModel.findOneAndUpdate({ _id: params.id }, { name: params.name }, { upsert: false, new: true }).exec(); if (doc === null) { throw new factory.errors.NotFound('Distribution'); } return doc.toObject(); }); } /** * 配給を作成する */ createDistribution(params) { return __awaiter(this, void 0, void 0, function* () { const doc = yield this.distributionsModel.create({ _id: params.id, name: params.name }); return doc.toObject(); }); } getDistributions() { return __awaiter(this, void 0, void 0, function* () { const query = this.distributionsModel.find({}); return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } countDistributions(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); return this.distributionsModel.countDocuments({ $and: conditions }).setOptions({ maxTimeMS: 10000 }) .exec(); }); } /** * 配給を検索する */ searchDistributions(params) { return __awaiter(this, void 0, void 0, function* () { const conditions = MongoRepository.CREATE_MONGO_CONDITIONS(params); const query = this.distributionsModel.find({ $and: conditions }, { __v: 0, createdAt: 0, updatedAt: 0 }); // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore else */ if (params.limit !== undefined &amp;&amp; params.page !== undefined) { query.limit(params.limit).skip(params.limit * (params.page - 1)); } return query.setOptions({ maxTimeMS: 10000 }).exec().then((docs) =&gt; docs.map((doc) =&gt; doc.toObject())); }); } /** * IDで配給を取得する */ findById(params) { return __awaiter(this, void 0, void 0, function* () { const event = yield this.distributionsModel.findOne({ _id: params.id }, { __v: 0, createdAt: 0, updatedAt: 0 }).exec(); if (event === null) { throw new factory.errors.NotFound('Distribution'); } return event.toObject(); }); } /** * IDで配給を削除する */ deleteById(params) { return __awaiter(this, void 0, void 0, function* () { yield this.distributionsModel.findOneAndRemove({ _id: params.id }).exec(); }); } } exports.MongoRepository = MongoRepository; × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_mongoose_model_distributions.js.html":{"id":"repo_mongoose_model_distributions.js.html","title":"Source: repo/mongoose/model/distributions.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/mongoose/model/distributions.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const mongoose = require(&quot;mongoose&quot;); const safe = { j: true, w: 'majority', wtimeout: 10000 }; /** * 配給スキーマ */ const schema = new mongoose.Schema({ _id: String, name: String }, { collection: 'distributions', id: true, read: 'primaryPreferred', safe: safe, strict: true, useNestedStrict: true, timestamps: { createdAt: 'createdAt', updatedAt: 'updatedAt' }, toJSON: { getters: true }, toObject: { getters: true } }); exports.default = mongoose.model('Distributions', schema).on('index', // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore next */ (error) =&gt; { if (error !== undefined) { console.error(error); } }); × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_mongoose_model_boxOfficeType.js.html":{"id":"repo_mongoose_model_boxOfficeType.js.html","title":"Source: repo/mongoose/model/boxOfficeType.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/mongoose/model/boxOfficeType.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const mongoose = require(&quot;mongoose&quot;); const safe = { j: true, w: 'majority', wtimeout: 10000 }; /** * 興行区分スキーマ */ const schema = new mongoose.Schema({ _id: String, name: String }, { collection: 'boxOfficeTypes', id: true, read: 'primaryPreferred', safe: safe, strict: true, useNestedStrict: true, timestamps: { createdAt: 'createdAt', updatedAt: 'updatedAt' }, toJSON: { getters: true }, toObject: { getters: true } }); exports.default = mongoose.model('BoxOfficeType', schema).on('index', // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore next */ (error) =&gt; { if (error !== undefined) { console.error(error); } }); × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"repo_mongoose_model_subject.js.html":{"id":"repo_mongoose_model_subject.js.html","title":"Source: repo/mongoose/model/subject.js","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Source: repo/mongoose/model/subject.js &quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const mongoose = require(&quot;mongoose&quot;); const safe = { j: true, w: 'majority', wtimeout: 10000 }; /** * 科目スキーマ */ const schema = new mongoose.Schema({ subjectClassificationCd: String, subjectClassificationName: String, subjectCd: String, subjectName: String, detailCd: { type: String, unique: true }, detailName: String }, { collection: 'subjects', id: true, read: 'primaryPreferred', safe: safe, strict: true, useNestedStrict: true, timestamps: { createdAt: 'createdAt', updatedAt: 'updatedAt' }, toJSON: { getters: true }, toObject: { getters: true } }); exports.default = mongoose.model('Subject', schema).on('index', // tslint:disable-next-line:no-single-line-block-comment /* istanbul ignore next */ (error) =&gt; { if (error !== undefined) { console.error(error); } }); × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Global Members &lt;constant&gt; chevre index module Source: index.js, line 6 &lt;constant&gt; chevre service module Source: service.js, line 6 &lt;constant&gt; chevre リポジトリー Source: repository.js, line 7 &lt;constant&gt; schema 配給スキーマ Source: repo/mongoose/model/distributions.js, line 8 &lt;constant&gt; schema 興行区分スキーマ Source: repo/mongoose/model/boxOfficeType.js, line 8 &lt;constant&gt; schema 科目スキーマ Source: repo/mongoose/model/subject.js, line 8 Methods countTicketTypePerEvent() countTicketTypePerEvent Source: service/event.js, line 14 × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Classes Classes MongoRepository MongoRepository MongoRepository MongoRepository × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Chevre Domain Library for Node.js Chevre座席予約システムのドメインモデルをNode.jsで使いやすいようにまとめたパッケージです。 Table of contents Usage Code Samples License Usagenpm install --save @toei-jp/chevre-domainconst chevre = require(&quot;@toei-jp/chevre-domain&quot;);前提として、mongooseでdefault connectionを確保することと、redis情報をセットすることが必要。 mongoose default connection chevre.mongoose.connect();Environment variables Name Required Value Purpose DEBUG false chevre-domain:* Debug Code SamplesCode sample are here. LicenseISC × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "},"MongoRepository.html":{"id":"MongoRepository.html","title":"Class: MongoRepository","body":" Chevre Domain Library for Node.js Classes MongoRepository Global chevrecountTicketTypePerEventschema Class: MongoRepository MongoRepository イベントリポジトリー new MongoRepository() Source: repo/event.js, line 16 Methods createBoxOfficeType() 興行区分を作成する Source: repo/boxOfficeType.js, line 54 createDistribution() 配給を作成する Source: repo/distributions.js, line 52 deleteById() IDで配給を削除する Source: repo/distributions.js, line 114 deleteById() IDで興行区分を削除する Source: repo/boxOfficeType.js, line 116 findById() IDで配給を取得する Source: repo/distributions.js, line 96 findById() IDで興行区分を取得する Source: repo/boxOfficeType.js, line 98 findSubjectById() IDで科目を検索する Source: repo/subject.js, line 61 save() 科目を保管する Source: repo/subject.js, line 32 saveMultipleScreeningEvent() 複数の上映イベントを保管する Source: repo/event.js, line 20 searchBoxOfficeType() 興行区分を検索する Source: repo/boxOfficeType.js, line 79 searchDistributions() 配給を検索する Source: repo/distributions.js, line 77 searchSubject() 科目を検索する Source: repo/subject.js, line 79 updateBoxOfficeType() 興行区分を保管する Source: repo/boxOfficeType.js, line 42 updateDistribution() 配給を保管する Source: repo/distributions.js, line 40 Class: MongoRepository MongoRepository 科目レポジトリー new MongoRepository() Source: repo/subject.js, line 17 Methods createBoxOfficeType() 興行区分を作成する Source: repo/boxOfficeType.js, line 54 createDistribution() 配給を作成する Source: repo/distributions.js, line 52 deleteById() IDで配給を削除する Source: repo/distributions.js, line 114 deleteById() IDで興行区分を削除する Source: repo/boxOfficeType.js, line 116 findById() IDで配給を取得する Source: repo/distributions.js, line 96 findById() IDで興行区分を取得する Source: repo/boxOfficeType.js, line 98 findSubjectById() IDで科目を検索する Source: repo/subject.js, line 61 save() 科目を保管する Source: repo/subject.js, line 32 saveMultipleScreeningEvent() 複数の上映イベントを保管する Source: repo/event.js, line 20 searchBoxOfficeType() 興行区分を検索する Source: repo/boxOfficeType.js, line 79 searchDistributions() 配給を検索する Source: repo/distributions.js, line 77 searchSubject() 科目を検索する Source: repo/subject.js, line 79 updateBoxOfficeType() 興行区分を保管する Source: repo/boxOfficeType.js, line 42 updateDistribution() 配給を保管する Source: repo/distributions.js, line 40 Class: MongoRepository MongoRepository 興行区分レポジトリー new MongoRepository() Source: repo/boxOfficeType.js, line 16 Methods createBoxOfficeType() 興行区分を作成する Source: repo/boxOfficeType.js, line 54 createDistribution() 配給を作成する Source: repo/distributions.js, line 52 deleteById() IDで配給を削除する Source: repo/distributions.js, line 114 deleteById() IDで興行区分を削除する Source: repo/boxOfficeType.js, line 116 findById() IDで配給を取得する Source: repo/distributions.js, line 96 findById() IDで興行区分を取得する Source: repo/boxOfficeType.js, line 98 findSubjectById() IDで科目を検索する Source: repo/subject.js, line 61 save() 科目を保管する Source: repo/subject.js, line 32 saveMultipleScreeningEvent() 複数の上映イベントを保管する Source: repo/event.js, line 20 searchBoxOfficeType() 興行区分を検索する Source: repo/boxOfficeType.js, line 79 searchDistributions() 配給を検索する Source: repo/distributions.js, line 77 searchSubject() 科目を検索する Source: repo/subject.js, line 79 updateBoxOfficeType() 興行区分を保管する Source: repo/boxOfficeType.js, line 42 updateDistribution() 配給を保管する Source: repo/distributions.js, line 40 Class: MongoRepository MongoRepository 配給レポジトリー new MongoRepository() Source: repo/distributions.js, line 16 Methods createBoxOfficeType() 興行区分を作成する Source: repo/boxOfficeType.js, line 54 createDistribution() 配給を作成する Source: repo/distributions.js, line 52 deleteById() IDで配給を削除する Source: repo/distributions.js, line 114 deleteById() IDで興行区分を削除する Source: repo/boxOfficeType.js, line 116 findById() IDで配給を取得する Source: repo/distributions.js, line 96 findById() IDで興行区分を取得する Source: repo/boxOfficeType.js, line 98 findSubjectById() IDで科目を検索する Source: repo/subject.js, line 61 save() 科目を保管する Source: repo/subject.js, line 32 saveMultipleScreeningEvent() 複数の上映イベントを保管する Source: repo/event.js, line 20 searchBoxOfficeType() 興行区分を検索する Source: repo/boxOfficeType.js, line 79 searchDistributions() 配給を検索する Source: repo/distributions.js, line 77 searchSubject() 科目を検索する Source: repo/subject.js, line 79 updateBoxOfficeType() 興行区分を保管する Source: repo/boxOfficeType.js, line 42 updateDistribution() 配給を保管する Source: repo/distributions.js, line 40 × Search results Close Documentation generated by JSDoc 3.5.5 on Thu Feb 7th 2019 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
